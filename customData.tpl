#!/bin/bash
sudo apt-get update -y &&
sudo apt-get install -y \
apt-transport-https \
ca-certificates \
curl \
gnupg-agent \
software-properties-common &&
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add &&
sudo add-apt-repository  "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" &&
sudo apt-get update -y &&
sudo sudo apt-get install docker-ce docker-ce-cli containerd.io -y &&
sudo usermod -aG docker adminuser

echo "----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----" > /home/adminuser/.ssh/id_rsa